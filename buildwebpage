#! /usr/bin/env python


'''Create static webpages from a template.'''


DEBUG = False


import sys

import buildwp.cli
import buildwp.webpage


def main(args):
    '''Build the webpage.

    :param args: command-line arguments
    :type  args: list of str

    '''
    try:
        settings = buildwp.cli.get_settings(args[1:])
        webpage = buildwp.webpage.Webpage(settings)
        webpage.build_webpage()
    except Exception as error:
        if DEBUG:
            import traceback
            traceback.print_exc()
        else:
            sys.stderr.write('Error: ' + str(error) + '\n')


if __name__ == '__main__':
    main(sys.argv)
